"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports["default"] = void 0;

var _react = require("react");

var defaultEvents = ['mousedown', 'touchstart'];

var useClickout = function useClickout() {
  var events = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : defaultEvents;
  var refWrap = (0, _react.useRef)();
  var doEvent = (0, _react.useRef)(function () {});

  var bindClickout = function bindClickout(clickoutFn) {
    doEvent.current = clickoutFn;
  };

  (0, _react.useEffect)(function () {
    var handler = function handler(event) {
      var isOut = !!refWrap.current && !refWrap.current.contains(event.target);
      if (isOut) doEvent.current(event, refWrap);
    };

    events.forEach(function (event) {
      document.addEventListener(event, handler);
    });
    return function () {
      events.forEach(function (event) {
        document.removeEventListener(event, handler);
      });
    };
  }, [events]);
  return [refWrap, bindClickout];
};

var _default = useClickout;
exports["default"] = _default;
